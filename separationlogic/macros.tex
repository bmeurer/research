%%
%% macros.tex - Useful LaTeX macros
%%
%% Copyright (c) 2006-2009 Benedikt Meurer <benedikt.meurer@googlemail.com>
%%


%%
%% Generic style macros
%%

\newcommand{\nstyle}[1]{\ensuremath{\mathit{#1}}}
\newcommand{\pstyle}[1]{\ensuremath{\mathsf{#1}}}
\newcommand{\sstyle}[1]{\ensuremath{\mathrm{#1}}}


%%
%% Misc
%%

\newcommand{\coloncolon}{\mathrel{::}}
\newcommand{\pto}{\rightharpoonup} %{\hookrightarrow}
%\newcommand{\tto}{\dot{\to}} %{\stackrel{_t}{\to}}
%\DeclareMathOperator{\tto}{\dot{\to}}
\DeclareMathOperator{\tto}{\Rightarrow}
\DeclareMathOperator{\ttimes}{\dot{\times}}
\DeclareMathOperator{\sepcon}{\ast}
\DeclareMathOperator{\fold}{fold}

\newcommand{\conf}[2]{\langle{#1},{#2}\rangle}


%%
%% Sets
%%

\newcommand{\N}{\ensuremath{\mathbb N}}
\newcommand{\Z}{\ensuremath{\mathbb Z}}
\newcommand{\ProgType}{\ensuremath{\textsc{ProgType}}}
\newcommand{\AssnType}{\ensuremath{\textsc{AssnType}}}
\newcommand{\Exp}{\ensuremath{\textsc{Exp}}}
\newcommand{\Val}{\ensuremath{\textsc{Val}}}
\newcommand{\cVal}{\ensuremath{\textsc{cVal}}}
\newcommand{\Term}{\ensuremath{\textsc{Term}}}
\newcommand{\Assn}{\ensuremath{\textsc{Assn}}}
\newcommand{\Store}{\ensuremath{\textsc{Store}}}


%%
%% Functions (TODO - DeclareMathOperator)
%%

\newcommand{\dom}[1]{\ensuremath{\sstyle{dom}(#1)}}
\newcommand{\cod}[1]{\ensuremath{\sstyle{cod}(#1)}}
\newcommand{\free}[1]{\ensuremath{\sstyle{free}(#1)}}
\newcommand{\locns}[1]{\ensuremath{\sstyle{locns}(#1)}}
\newcommand{\grph}[1]{\ensuremath{\sstyle{graph}(#1)}}
\newcommand{\supp}[1]{\ensuremath{\sstyle{supp}(#1)}}
\newcommand{\reach}[2]{\ensuremath{\sstyle{reach}(#1,#2)}}
\newcommand{\reachn}[3]{\ensuremath{\sstyle{reach}_{#1}(#2,#3)}}
\newcommand{\semantic}[1]{\ensuremath{\llbracket#1\rrbracket}}

\newcommand{\powerset}[1]{\ensuremath{\mathcal{P}\,(#1)}}
\newcommand{\powersetfin}[1]{\ensuremath{\mathcal{P}_{fin}\,(#1)}}


%%
%% Names
%%

\newcommand{\op}{\nstyle{op}}


%%
%% Types
%%

\newcommand{\Unit}{\pstyle{Unit}}
\newcommand{\Bool}{\pstyle{Bool}}
\newcommand{\Nat}{\pstyle{Nat}}
\newcommand{\Ref}[1]{\pstyle{Ref}\,{#1}}
\newcommand{\Prop}{\pstyle{Prop}}


%%
%% Expressions
%%

\newcommand{\z}{\pstyle{z}}
\renewcommand{\succ}[1]{\pstyle{succ}\,{#1}}
\newcommand{\iternat}[4]{\pstyle{iter}_{\Nat}(#1,#2,{#3}.\,{#4})}
\newcommand{\abstr}[2]{\lambda{#1}.\,{#2}}
\newcommand{\app}[2]{{#1}\,{#2}}
\newcommand{\unit}{\pstyle{unit}}
\newcommand{\fst}[1]{\app{\pstyle{fst}}{#1}}
\newcommand{\snd}[1]{\app{\pstyle{snd}}{#1}}
\newcommand{\new}[2]{\app{\pstyle{new}^{#1}}{#2}}
\newcommand{\deref}[1]{\app{!}{#1}}
\newcommand{\assign}[2]{{#1}:={#2}}


%%
%% Formulas
%%

\newcommand{\emp}{\pstyle{emp}}
\newcommand{\qex}[2]{\exists{#1}.\,{#2}}
\newcommand{\qall}[2]{\forall{#1}.\,{#2}}
\newcommand{\qbex}[3]{\exists{#1}\in{[#2]}.\,{#3}}
\newcommand{\qball}[3]{\forall{#1}\in{[#2]}.\,{#3}}

\newcommand{\triple}[3]{\{#1\}\,#2\,\{#3\}}
\newcommand{\triplex}[4]{\triple{#1}{#2}{{#3}.\,{#4}}}

\newcommand{\tabstr}[2]{\pstyle{fn}\,#1.\,#2}

\newcommand{\inv}[2]{{{#1}\diamond{#2}}}


%%
%% Grammars
%%

\newcommand{\GRbeg}{\begin{array}{rrlll}}
\newcommand{\GRend}{\end{array}}

\newcommand{\GRis}{& ::= &}
\newcommand{\GRal}{\\ & \mid &}
\newcommand{\GRnl}{\vspace{2mm}\\}
\newcommand{\GRmid}{\,\mid\,}
\newcommand{\GRtext}[1]{\hfill & \text{#1}}


%%
%% Rules
%%

\newcommand{\RN}[1]{\mbox{{\sc (#1)}}}

\newcommand{\RULE}[2]{\begin{array}{@{}c@{}} #1 \\ \hline #2 \end{array}}

\newcommand{\tj}[2]{{#1}\coloncolon{#2}}
\newcommand{\tjt}[2]{{#1}\coloncolon_t{#2}}
\newcommand{\Tj}[3]{#1\,\triangleright\,#2\coloncolon#3}
\newcommand{\Tje}[3]{#1\,\triangleright_e\,#2\coloncolon#3}
\newcommand{\Tjt}[3]{#1\,\triangleright_t\,#2\coloncolon#3}
\newcommand{\Tjp}[2]{#1\,\triangleright\,#2}


%%
%% Other environments
%%

\newcommand{\bcase}{\left\{\!\!\!\begin{array}{ll}}
\newcommand{\ecase}{\end{array}\right.}

